---
import { type CollectionEntry } from "astro:content";
import SocialList from "@/components/SocialList.astro";
import PostPreview from "@/components/blog/PostPreview.astro";
import { getAllPosts } from "@/data/post";
import PageLayout from "@/layouts/Base.astro";
import { collectionDateSort } from "@/utils/date";

// Posts
const MAX_POSTS = 10;
const allPosts = await getAllPosts();
const allPostsByDate = allPosts
	.sort(collectionDateSort)
	.slice(0, MAX_POSTS) as CollectionEntry<"post">[];
---

<PageLayout meta={{ title: "Home" }}>
	<!-- Hero section -->
	<section class="max-w-xl mx-auto relative flex items-center justify-center min-h-screen py-8 px-4">
		<div class="w-full text-center">
			<span class="title text-2xl sm:text-3xl bg-gradient-to-r from-accent-two/85 via-accent-one/85 to-accent-two/85 dark:from-accent-two dark:via-accent-one dark:to-accent-two bg-clip-text text-transparent">
				Meet Aurras ðŸŽµ
			</span>
			<p class="mt-4 mb-6 text-base sm:text-lg font-medium px-2">
				A beautiful, modern terminal music player that brings the joy of music to your command line. Built with cutting-edge technologies for the ultimate audio experience.
			</p>
			<div class="flex justify-center mb-6">
				<SocialList />
			</div>
			<div class="flex flex-col sm:flex-row justify-center gap-3 sm:gap-4 mt-4 px-4">
				<a href="/features/" class="relative flex items-center justify-center h-10 sm:h-8 px-6 sm:px-4 rounded-lg shadow-lg hover:brightness-110 transition-all bg-gradient-to-r from-accent-one to-accent-two text-sm sm:text-base">
					<span class="text-bgColor font-semibold">
						Explore Features
					</span>
				</a>

				<a href="/about/" class="relative flex items-center justify-center h-10 sm:h-8 px-6 sm:px-4 rounded-lg shadow-lg bg-special-lighter hover:brightness-110 hover:bg-special-lightest text-sm sm:text-base">
					<span class="bg-clip-text text-transparent font-semibold bg-gradient-to-r from-accent-one to-accent-two">
						Learn More
					</span>
				</a>
			</div>
		</div>
	</section>

	<!-- Posts Section -->
	<section aria-label="Blog post list" class="'mt-[-100vh] pt-[100vh]'">
		<h2 class="title mb-6 text-xl text-accent-two">
			<a href="/posts/">Latest Updates</a>
		</h2>
		<ul class="space-y-4 md:space-y-2" role="list">
			{
				allPostsByDate.map((p) => (
					<li class="gap-2 sm:grid-cols-[auto_1fr]">
						<PostPreview post={p} />
					</li>
				))
			}
		</ul>
	</section>

	<!-- Call to Action Section -->
	<section class="mt-12 px-4">
		<div class="p-6 sm:p-8 text-center rounded-lg bg-gradient-to-r from-accent-one/10 to-accent-two/10 border border-accent-one/20">
			<h2 class="text-xl sm:text-2xl font-bold mb-4">Ready to Transform Your Terminal?</h2>
			<p class="text-base sm:text-lg mb-6">
				Join thousands of developers who have already made Aurras their go-to terminal music player.
			</p>
			<div class="flex flex-col sm:flex-row justify-center gap-3 sm:gap-4">
				<a 
					href="https://github.com/vedant-asati03/Aurras/releases" 
					class="inline-flex items-center px-6 py-3 rounded-lg bg-gradient-to-r from-accent-one to-accent-two text-bgColor font-semibold hover:brightness-110 transition-all text-sm sm:text-base"
					target="_blank"
					rel="noreferrer"
				>
					Download Now
				</a>
				<a 
					href="/features/" 
					class="inline-flex items-center px-6 py-3 rounded-lg border border-accent-one text-accent-one hover:bg-accent-one/10 transition-all text-sm sm:text-base"
				>
					Explore Features
				</a>
			</div>
		</div>
	</section>
</PageLayout>

